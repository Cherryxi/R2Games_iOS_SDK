# 3.10 Game Center第三方登录接口

**功能说明：**

研发方可以直接调用该接口来完成Game Center登录，用户登录并授权成功后，会自动绑定R2UID。接口回调数据中将包含玩家Game Center账号的个人基本信息，如玩家Game Center账号的用户ID。以及对应的R2UID,是否绑定Game Center字段isBoundToGameCenter等。

**接口形式：**

```objectivec
-(void)UIDLoginWithViewController:(UIViewController *)viewController completionHandler:(R2GCUIDLoginHandler)handler;
```

**参数说明：**

viewController:当前活动的UIViewController （必须）  
handler：接口回调 \(必须\) result为玩家登录数据，包含r2uid等。playerData为NSDictionary类型，包含Game Center账号信息。

**接口示例：**

```objectivec
[[R2GameKitHelper sharedInstance]UIDLoginWithViewController:self completionHandler:^(int code, NSString *msg, R2LoginResponse *result, id playerData) {
        if (code== R2_RESPONSE_SUCCESS_CODE && result) {
            //取得帐号的r2 uid，便于游戏自身定位玩家
            NSString *r2UserId = result.r2Uid;
            //判断是否绑定Game center字段
            BOOL isBoundToGC = result.isBoundToGameCenter;
            NSLog(@"is bound to game center,%d",isBoundToGC);
            //取得相关验证登录合法性的数据
            NSString *loginTimestamp = result.timestamp;
            NSString *sign = result.sign;
            NSLog(@"current r2 uid = %@",r2UserId);
            NSLog(@"send [r2uid=%@,timestamp=%@,sign=%@] to server for the verification",r2UserId,loginTimestamp,sign);
        }
        else{
            NSLog(@"failed to login,error=%@,code = %d",msg,code);
        }
    }];
```

