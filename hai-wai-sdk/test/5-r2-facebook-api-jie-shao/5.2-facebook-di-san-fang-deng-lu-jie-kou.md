# 5.2 Facebook第三方登录接口

**功能说明：**

研发方可以直接调用该接口来完成Facebook登录，用户登录并授权成功后，会自动绑定R2UID。如果用户授权成功后，下次会进行Facebook免登录界面登录。接口回调数据中将包含玩家Facebook账号的个人基本信息，如玩家Facebook账号的用户ID。以及对应的R2UID,是否绑定Facebook字段isBoundToFacebook等。

**接口形式：**

```objectivec
-(void)loginFastWithViewController:(UIViewController *)viewController completionHandler:(R2FacebookUIDLoginCompletionHandler)handler;
```

**参数说明：**

viewController:当前活动的UIViewController （必须）  
handler：接口回调 \(必须\)， r2LoginResult为玩家登录数据，包含r2uid等。facebookLoginResult为包含Facebook账号信息。

**接口示例：**

```objectivec
[[R2FacebookHelper sharedInstance]loginFastWithViewController:self completionHandler:^(int code, NSString *msg, R2FacebookLoginResult *facebookLoginResult, R2LoginResponse *r2LoginResult) {
        if (code == R2_RESPONSE_SUCCESS_CODE) {
        NSLog(@"Facebook login successfully,msg -> %@,fbuid -> %@,fbimageURL -> %@,fbname -> %@",msg,facebookLoginResult.fbUserId,facebookLoginResult.fbImageUrl,facebookLoginResult.fbUsername);
        //取得帐号的r2 uid，便于游戏自身定位玩家
        NSString *r2UserId = r2LoginResult.r2Uid;
        //判断是否绑定Game center字段
        BOOL isBoundToFB = r2LoginResult.isBoundToFacebook;
        NSLog(@"is bound to game center,%d",isBoundToFB);
        //取得相关验证登录合法性的数据
        NSString *loginTimestamp = r2LoginResult.timestamp;
        NSString *sign = r2LoginResult.sign;
        NSLog(@"current r2 uid = %@",r2UserId);
        NSLog(@"send [r2uid=%@,timestamp=%@,sign=%@] to server for the verification",r2UserId,loginTimestamp,sign);
    }else{
        NSLog(@"Facebook login failed,code -> %d,msg -> %@",code,msg);
    }
    }];
```

