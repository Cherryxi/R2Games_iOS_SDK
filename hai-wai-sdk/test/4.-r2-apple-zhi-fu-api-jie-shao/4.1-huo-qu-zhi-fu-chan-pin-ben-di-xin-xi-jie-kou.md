# 4.1获取支付产品本地信息接口

**功能说明：**

研发方可以直接调用该接口来获取苹果iTunesConnect 开发者管理后台上配置的支付产品详细信息。在获取的产品详细信息中，产品的描述以及产品的价格和对应的货币单位等等信息将随着当前玩家的苹果账户所处的地区不同而不同。

**接口形式：**

```objectivec
-(void)getLocalDetailsOfProductWithIDs:(NSArray*)productIDs onCompletionHandler:(R2SDKRequestProductsCompletionHandler)handler;
```

**参数说明：**

productIDs:包含需要查询的支付产品的ID数组（必须）  
handler：接口回调（必须）

**接口示例：**

```objectivec
  [[R2V2AppleIAP sharedInstance]getLocalDetailsOfProductWithIDs:@[@"com.gg.ee.coins",@"com.r2game.ios.sdk.eegems"] onCompletionHandler:^(BOOL isSuccess, NSArray *R2AppleProducts) {
        if (isSuccess && R2AppleProducts && [R2AppleProducts count]>0) {
            //数组中的实例是 R2SDKAppleProduct类型
            for (R2SDKAppleProduct *p in R2AppleProducts) {
                NSString* productId = p.productIdentifier;  //产品 id
                NSString *price = p.stringPrice; //产品本地价格,保留小数点后面 2 位
                NSString* currencyCode = p.priceCurrencyCode; //产品本地货币代码（如:USD）
            }
        }else{
            NSLog(@"[error: failed to request product details]");
        }
    }];
```

