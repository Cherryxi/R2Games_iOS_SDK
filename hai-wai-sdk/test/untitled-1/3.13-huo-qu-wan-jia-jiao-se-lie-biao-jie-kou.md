# 3.13 获取玩家角色列表接口

#### 功能说明：

 玩家登陆游戏后，研发方可以调用该接口获取玩家的角色列表，研发方可以解析回调的result.data来获取玩家的角色信息。如果没有创角信息，则将会返回空数组。

#### 接口形式：

```objectivec
+(void)getRoleListWithR2Uid:(NSString*)r2uid
          completionHandler:(R2BaseCompletionHandler)handler;
```

#### 参数说明：

 r2uid: 当前玩家的r2 uid（登录接口返回）

 handler：回调 result.data返回示例： "\[{\"id\":296,\"rid\":358873661,\"gameId\":380,\"serverId\":\"005\",\"roleId\":\"8888\",\"roleName\":\"zhangsan\",\"roleLevel\":\"50\",\"roleCreateTime\":1585904540,\"lastLoginTime\":1585905240}\]"

#### 接口示例：

```objectivec
 NSString *uid = @"002123";
[R2SDKApi getRoleListWithR2Uid:uid completionHandler:^(int code, NSString *msg, R2SDKBaseResponse *result) {
        NSLog(@"code %d.msg%@,list %@",code,msg,result.data);

    }];
```

