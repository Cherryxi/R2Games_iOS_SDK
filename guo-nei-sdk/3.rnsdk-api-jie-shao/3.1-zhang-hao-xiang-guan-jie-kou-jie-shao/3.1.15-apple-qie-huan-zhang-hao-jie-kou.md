# 3.1.15 Apple切换账号接口

#### 功能说明：

 调用该接口可以完成Apple账号切换功能。该接口内部逻辑为先进行Apple账号登录，获取openId。查询该openId是否与r2Uid绑定过。如果已经绑定过则做第三方登录，获取r2Uid，切换账号成功，否则，切换账号失败。

#### 接口形式：

```objectivec
-(void)switchFromViewController:(UIViewController*)viewController enableCreateNewAccount:(BOOL)enable onCompletionHandler:(RNAppleApiCompletionHandler)handler;
```

#### 参数说明：

 viewController:当前活动的UIViewController （必须）

 enable:是否容许玩家利用新的Apple账号创建新的游戏账号,建议传YES 

handler：接口回调 \(必须\)

#### 接口示例：

```objectivec
[[RNAppleSignHelper sharedInstance]switchFromViewController:self enableCreateNewAccount:YES onCompletionHandler:^(int code, NSString * _Nonnull msg, RNLoginResponse * _Nonnull loginResponse, NSDictionary * _Nonnull accoutInfo) {
            if (code == 0) {
                    NSLog(@"Apple switch successful,msg:%@，ccount info :%@",msg,accoutInfo);
                      //取得帐号的 r2 uid，便于游戏自身定位玩家
                      NSString *r2UserId = loginResponse.r2Uid;
                      }else{
                               NSLog(@"Apple switch failed,msg:%@,code%d",msg,code);
                  }
     }];

```

